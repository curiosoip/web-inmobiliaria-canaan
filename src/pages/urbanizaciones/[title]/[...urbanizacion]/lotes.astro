---

import MainLayout from "../../../../layouts/MainLayout.astro";
import FooterSection from "../../../../sections/FooterSection.astro";
import SelectDepartament from "../../../../components/SelectDepartament.astro";
import logo from "../../../../assets/logo.svg";
import UrbanizacionesSection from '../../../../sections/UrbanizacionesSection.astro';
import PlanimetriaMapComponent from "../../../../components/PlanimetriaMapComponent.vue";
import LotesSection from "../../../../sections/LotesSection.astro";
import lapazbg from "../../../../assets/imgs/lapazbg.jpg";
import cochabambabg from "../../../../assets/imgs/cochabambabg.jpg";
import santacruzbg from "../../../../assets/imgs/santacruzbg.jpg";

export async function getStaticPaths() {
  type Page = {
    title: string;
    urbanizacion: string[];
  };

  const pages: Page[] = [
    { title: "lapaz", urbanizacion: ["Irpavi", "Achumani","Calacoto"] },
    { title: "cochabamba", urbanizacion: ["Cala Cala", "Quillacollo"] },
    { title: "santacruz", urbanizacion: ["Equipetrol", "Urubó"] },
  ];
 return pages.flatMap(item =>
    (item.urbanizacion ?? []).map(urb => ({
      params: {
        title: item.title,
        urbanizacion: urb, 
      },
    }))
  );
}

const { title, urbanizacion } = Astro.params;
---

<MainLayout>
  <nav
    class="bg-emerald-700 border-b border-emerald-300/20 sticky w-full z-80 top-0 start-0"
  >
    <div class="flex flex-wrap items-center justify-between mx-auto">
      <a
        href="/"
        class="px-4 lg:px-6 py-3 bg-slate-800 md:py-3 flex items-center justify-center md:justify-start"
      >
        <div class="flex items-center space-x-3">
          <img src={logo.src} alt="Canaan Inmobiliaria" class="w-20" />
        </div>
      </a>

      <div
        class="flex md:order-2 space-x-3 md:space-x-0 rtl:space-x-reverse px-4 justify-center items-center"
      >
        <button
          type="button"
          class="text-slate-800 flex gap-2 justify-center items-center bg-yellow-500 cursor-pointer border-2 border-yellow-600 hover:text-slate-950 font-medium rounded-lg text-lg px-4 py-2 text-center"
        >
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24">
            <path
              fill="currentColor"
              d="M3 11h8V3H3zm2-6h4v4H5zM3 21h8v-8H3zm2-6h4v4H5zm8-12v8h8V3zm6 6h-4V5h4zm-5.99 4h2v2h-2zm2 2h2v2h-2zm-2 2h2v2h-2zm4 0h2v2h-2zm2 2h2v2h-2zm-4 0h2v2h-2zm2-6h2v2h-2zm2 2h2v2h-2z"
            ></path>
          </svg>
          Pagar
        </button>

        <button
          data-collapse-toggle="navbar-sticky"
          type="button"
          class="inline-flex items-center p-1 cursor-pointer w-10 h-10 justify-center text-sm text-gray-200 rounded-lg md:hidden hover:text-gray-300 focus:outline-none"
          aria-controls="navbar-sticky"
          aria-expanded="false"
        >
          <span class="sr-only">Open main menu</span>
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="32"
            height="32"
            viewBox="0 0 24 24"
            ><path
              fill="currentColor"
              d="m19.6 21l-6.3-6.3q-.75.6-1.725.95T9.5 16q-2.725 0-4.612-1.888T3 9.5t1.888-4.612T9.5 3t4.613 1.888T16 9.5q0 1.1-.35 2.075T14.7 13.3l6.3 6.3zM9.5 14q1.875 0 3.188-1.312T14 9.5t-1.312-3.187T9.5 5T6.313 6.313T5 9.5t1.313 3.188T9.5 14"
            ></path></svg
          >
        </button>
      </div>

      <div
        id="navbar-sticky"
        class="items-center justify-center hidden w-full md:flex md:max-w-sm md:order-1 px-4 py-3 rounded-md transition-all duration-300"
      >
        <SelectDepartament active={false} client:load/>
      </div>
    </div>
  </nav>
  <section
    class="relative flex flex-col w-full justify-center py-5 px-4 items-center overflow-hidden"
  >
    {title=="lapaz"?
        <video
          autoplay
          muted
          loop
          playsinline
          class="absolute inset-0 w-full h-screen object-cover"
          poster={lapazbg.src}
        >
          <source src="https://bucket.fabcode.dev/vidlapaz.webm" type="video/webm" />
          Tu navegador no soporta video en HTML5.
        </video>
        :title=="cochabamba"?
        <video
          autoplay
          muted
          loop
          playsinline
          class="absolute inset-0 w-full h-screen object-cover"
          poster={cochabambabg.src}
        >
          <source src="https://bucket.fabcode.dev/vidcochabamba.webm" type="video/webm" />
          Tu navegador no soporta video en HTML5.
        </video>:
        <video
          autoplay
          muted
          loop
          playsinline
          class="absolute inset-0 w-full h-screen object-cover"
          poster={santacruzbg.src}
        >
          <source src="https://bucket.fabcode.dev/vidsantacruz.webm" type="video/webm" />
          Tu navegador no soporta video en HTML5.
        </video>
    }
    

    <div class="absolute inset-0 bg-black/50"></div>

    <div
      class="relative z-10 w-full flex flex-col items-center pb-10 pt-5 md:pb-20 md:pt-10"
    >
      <h1
        class="font-bold flex flex-col md:flex-row w-full justify-center items-center text-center gap-2"
      >
        <span class="block text-4xl md:text-5xl lg:text-6xl text-slate-100"
          >Lotes</span
        >
        <span class="block text-4xl md:text-5xl  lg:text-6xl text-amber-400"
          >Disponibles</span
        >
      </h1>
      
      <h1 class="text-white/30 flex justify-center items-center text-center font-bold text-3xl md:text-5xl mt-5">{urbanizacion} - {title=="lapaz"?"La Paz":title=="cochabamba"?"Cochabamba":"Santa Cruz"}</h1>
      
      <div class="flex flex-col sm:flex-row gap-4 sm:gap-6 justify-center items-center px-4 mt-6 w-full max-w-3xl">
  <button
    type="button"
    data-modal-target="default-modal"
    data-modal-toggle="default-modal"
    class="gap-2 cursor-pointer bg-amber-500 hover:text-slate-950 text-slate-800 font-bold px-8 py-2 text-base sm:text-lg rounded-lg transition-all duration-300 group flex w-full items-center justify-center"
  >
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 100 100"><path fill="currentColor" d="M91.967 7.961c0-.016.005-.031.005-.047a2.733 2.733 0 0 0-2.73-2.733H39.559v.011L8.031 36.721h-.003v55.365h.003v.001a2.735 2.735 0 0 0 2.734 2.731h78.479a2.73 2.73 0 0 0 2.663-2.15h.06v-.536l.004-.044c.002-.022-.004-.029-.004-.044zm-24.328 7.177H82.01v24.597L63.897 21.621zM39.57 39.453a2.73 2.73 0 0 0 2.722-2.73V15.138H61.88l-27.17 47.06l-16.725-16.725v-6.02zM17.985 84.862V52.527L32.128 66.67L21.626 84.862zm9.4 0l33.93-58.769l20.696 20.696v38.073z"/><path fill="currentColor" d="M62.03 45.576c-6.645 0-12.026 5.387-12.026 12.027c0 2.659.873 5.109 2.334 7.1l7.759 13.439q.069.142.157.271l.016.027l.004-.002a2.16 2.16 0 0 0 3.405.132l.02.011l.075-.129a2.3 2.3 0 0 0 .287-.497l7.608-13.178a11.96 11.96 0 0 0 2.39-7.175c-.003-6.639-5.384-12.026-12.029-12.026M61.911 63.7a5.924 5.924 0 0 1-5.926-5.925a5.926 5.926 0 1 1 5.926 5.925"/></svg>
    Ver planimetría
  </button>

  <a
    href="https://wa.me/59170516064?text=Hola,%20quisiera%20más%20información%20sobre%20sus%20servicios%20de%20construcción%20por%20favor."
    target="_blank"
    class="gap-2 bg-white text-slate-700 hover:text-slate-950 font-bold px-8 py-2 text-base sm:text-lg rounded-lg transition-all duration-300 group flex w-full items-center justify-center"
  >
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="M7 2h10a2 2 0 0 1 2 2v16a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2m0 2v4h10V4zm0 6v2h2v-2zm4 0v2h2v-2zm4 0v2h2v-2zm-8 4v2h2v-2zm4 0v2h2v-2zm4 0v2h2v-2zm-8 4v2h2v-2zm4 0v2h2v-2zm4 0v2h2v-2z"/></svg>
    Calcular financiamiento
  </a>
</div>

    </div>
  </section>
<LotesSection/>
  
<div id="default-modal" tabindex="-1" aria-hidden="true" class="hidden overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 z-100 justify-center items-center w-full md:inset-0 h-[calc(100%-1rem)] ">
    <div class="relative p-4 w-full max-w-5xl max-h-full">
        <!-- Modal content -->
        <div class="relative bg-white rounded-lg shadow-sm dark:bg-gray-700">
            <!-- Modal header -->
            <div class="flex items-center justify-between p-4 md:p-5 border-b rounded-t dark:border-gray-600 border-gray-200">
                <h3 class="text-sm font-semibold text-gray-600 dark:text-white">
                    <strong class="text-2xl text-amber-500 font-bold">{title=="lapaz"?"La Paz":title=="cochabamba"?"Cochabamba":"Santa Cruz"}</strong> / Planimetría - {urbanizacion}
                </h3>
                <button type="button" class="text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center dark:hover:bg-gray-600 dark:hover:text-white" data-modal-hide="default-modal">
                    <svg class="w-3 h-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 14">
                        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"/>
                    </svg>
                    <span class="sr-only">Close modal</span>
                </button>
            </div>

            <div class="p-4 md:p-5 space-y-4 max-h-[70vh]">
              <div class="h-[50vh]">
                <PlanimetriaMapComponent client:load />
              </div>
            </div>
            <div class="flex  justify-between items-center w-full px-4 pt-1 pb-5">
              <header class="flex gap-2 justify-center items-center">
                <span class="bg-green-100 text-green-800 text-xs font-medium me-2 px-2.5 py-0.5 rounded-sm dark:bg-green-900 dark:text-green-300">12 Lotes disponibles</span>
                <span class="bg-yellow-100 text-yellow-800 text-xs font-medium me-2 px-2.5 py-0.5 rounded-sm dark:bg-yellow-900 dark:text-yellow-300">5 Lotes en Crédito</span>
                <span class="bg-red-100 text-red-800 text-xs font-medium me-2 px-2.5 py-0.5 rounded-sm dark:bg-red-900 dark:text-red-300">8 Lotes Ocupados</span>
              </header>
              <footer>

              </footer>
            </div>

            <div class="flex w-full justify-between items-center p-4 md:p-5 border-t border-gray-200 rounded-b ">
                <button data-modal-hide="default-modal" type="button" class="text-white flex gap-2 justify-center items-center  cursor-pointer bg-amber-700 hover:bg-amber-800 focus:ring-4 focus:outline-none focus:ring-amber-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center ">
                  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 15 15"><path fill="currentColor" d="M2.5 6.5V6H2v.5zm4 0V6H6v.5zm0 4H6v.5h.5zm7-7h.5v-.207l-.146-.147zm-3-3l.354-.354L10.707 0H10.5zM2.5 7h1V6h-1zm.5 4V8.5H2V11zm0-2.5v-2H2v2zm.5-.5h-1v1h1zm.5-.5a.5.5 0 0 1-.5.5v1A1.5 1.5 0 0 0 5 7.5zM3.5 7a.5.5 0 0 1 .5.5h1A1.5 1.5 0 0 0 3.5 6zM6 6.5v4h1v-4zm.5 4.5h1v-1h-1zM9 9.5v-2H8v2zM7.5 6h-1v1h1zM9 7.5A1.5 1.5 0 0 0 7.5 6v1a.5.5 0 0 1 .5.5zM7.5 11A1.5 1.5 0 0 0 9 9.5H8a.5.5 0 0 1-.5.5zM10 6v5h1V6zm.5 1H13V6h-2.5zm0 2H12V8h-1.5zM2 5V1.5H1V5zm11-1.5V5h1V3.5zM2.5 1h8V0h-8zm7.646-.146l3 3l.708-.708l-3-3zM2 1.5a.5.5 0 0 1 .5-.5V0A1.5 1.5 0 0 0 1 1.5zM1 12v1.5h1V12zm1.5 3h10v-1h-10zM14 13.5V12h-1v1.5zM12.5 15a1.5 1.5 0 0 0 1.5-1.5h-1a.5.5 0 0 1-.5.5zM1 13.5A1.5 1.5 0 0 0 2.5 15v-1a.5.5 0 0 1-.5-.5z"/></svg>
                  Descargar</button>
                <a href="https://wa.me/59170516064?text=Hola,%20quisiera%20más%20información%20sobre%20sus%20servicios%20por%20favor." 
    target="_blank"  data-modal-hide="default-modal" type="button" class="py-2.5 flex gap-2 justify-center items-center px-5 ms-3 cursor-pointer text-center text-sm font-medium text-gray-900 focus:outline-none bg-white rounded-lg border border-gray-200 hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-4 focus:ring-gray-100 dark:focus:ring-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-600 dark:hover:text-white dark:hover:bg-gray-700">
                  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="M19.05 4.91A9.82 9.82 0 0 0 12.04 2c-5.46 0-9.91 4.45-9.91 9.91c0 1.75.46 3.45 1.32 4.95L2.05 22l5.25-1.38c1.45.79 3.08 1.21 4.74 1.21c5.46 0 9.91-4.45 9.91-9.91c0-2.65-1.03-5.14-2.9-7.01m-7.01 15.24c-1.48 0-2.93-.4-4.2-1.15l-.3-.18l-3.12.82l.83-3.04l-.2-.31a8.26 8.26 0 0 1-1.26-4.38c0-4.54 3.7-8.24 8.24-8.24c2.2 0 4.27.86 5.82 2.42a8.18 8.18 0 0 1 2.41 5.83c.02 4.54-3.68 8.23-8.22 8.23m4.52-6.16c-.25-.12-1.47-.72-1.69-.81c-.23-.08-.39-.12-.56.12c-.17.25-.64.81-.78.97c-.14.17-.29.19-.54.06c-.25-.12-1.05-.39-1.99-1.23c-.74-.66-1.23-1.47-1.38-1.72c-.14-.25-.02-.38.11-.51c.11-.11.25-.29.37-.43s.17-.25.25-.41c.08-.17.04-.31-.02-.43s-.56-1.34-.76-1.84c-.2-.48-.41-.42-.56-.43h-.48c-.17 0-.43.06-.66.31c-.22.25-.86.85-.86 2.07s.89 2.4 1.01 2.56c.12.17 1.75 2.67 4.23 3.74c.59.26 1.05.41 1.41.52c.59.19 1.13.16 1.56.1c.48-.07 1.47-.6 1.67-1.18c.21-.58.21-1.07.14-1.18s-.22-.16-.47-.28"/></svg>
                  Reservar visita</a>
            </div>
        </div>
    </div>
</div>
  <FooterSection />
</MainLayout>
