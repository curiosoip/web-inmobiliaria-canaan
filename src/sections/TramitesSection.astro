---
import CardComponentTramite from "../components/CardComponentTramite.astro";

interface Requisito {
  id_requisito_tramite: string;
  nombre: string;
  descripcion: string;
  obligatorio: boolean;
  archivo_requerido: boolean;
  orden: number;
}

interface Tramite {
  id_tramite: string;
  nombre: string;
  descripcion: string;
  costo: string;
  tiempo_estimado: string;
  activo: boolean;
  requisitos: Requisito[];
}

const { title, tramites } = Astro.props as { 
  title: string; 
  tramites: Tramite[];
};
---

<section id="tramites" class="relative w-full flex flex-col justify-center pt-10 px-4 pb-14 overflow-hidden bg-slate-100">
  <div class="flex flex-col lg:flex-row w-full max-w-6xl justify-center mx-auto gap-10 items-center pb-10">
    <section id="tramites" class="relative w-full flex flex-col justify-center pt-10 px-4 pb-14 overflow-hidden bg-slate-100">
  <div class="flex flex-col lg:flex-row w-full max-w-6xl justify-center mx-auto gap-10 items-center pb-10">
    {tramites.length > 0 ? (
      tramites.map((tramite: Tramite) => (
        <CardComponentTramite 
          ciudad={title}
          titleUrbanizacion={tramite.nombre} 
          descripcion={tramite.descripcion} 
        />
      ))
    ) : (
      <h1 class="py-8 text-xl text-slate-400 font-semibold flex w-full max-w-xl justify-center items-center text-center">
        Por el momento no contamos con tr√°mites para este departamento.
      </h1>
    )}
  </div>
</section>

  </div>
</section>
